<launch>
  <arg name="nvants" default="3"/>
  <arg name="sep_px" default="5"/>
  <arg name="max_wh" default="200"/>

  <!-- 1) Gera o mundo + sobe o Stage -->
  <node name="map_and_stage"
        pkg="airspace_control"
        type="create_map_and_launch_stage.sh"
        args="$(arg nvants) $(arg sep_px) $(arg max_wh)"
        output="screen"
        required="true"/>

  <!-- 2) Define a lista de agentes: /airspace_control/agent_names -->
  <node name="set_agent_names"
        pkg="airspace_control"
        type="set_agent_names.py"
        output="screen">
    <param name="nvants" value="$(arg nvants)"/>
  </node>

  <!-- 3) Spawna 1 uav_agent.py por VANT (namespaces /vant_k) -->
  <node name="spawn_agents"
        pkg="airspace_control"
        type="spawn_agents.py"
        output="screen"/>

  <!-- 4) Orquestrador de eventos (DES) que mapeia eventos -> goto_xy -->
  <node name="des_orchestrator"
        pkg="airspace_control"
        type="des_orchestrator.py"
        output="screen">
    <!-- tolerÃ¢ncia de chegada -->
    <param name="arrival_tolerance" value="1.0"/>
    <!-- caminho do grafo para mapear labels -> (x,y) -->
    <param name="grafo_txt" value="$(find airspace_control)/graph/sistema_logistico/grafo.txt"/>
  </node>
</launch>
